<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Painel Financeiro - QZ Digital</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body {
font-family: Arial, sans-serif;
background: #0f0f0f;
color: white;
text-align: center;
margin: 0;
}

h1 {
background: linear-gradient(90deg,#00c6ff,#0072ff);
padding: 20px;
margin: 0;
}

.container {
padding: 20px;
}

input, select, button {
padding: 10px;
margin: 5px;
border-radius: 5px;
border: none;
}

button {
background: #00c6ff;
font-weight: bold;
cursor: pointer;
}

.resumo {
margin-top: 20px;
font-size: 18px;
}

canvas {
margin-top: 30px;
max-width: 600px;
}
</style>
</head>
<body>

<h1>Painel Financeiro</h1>

<div class="container">

<h2>Adicionar Rendimento</h2>
<input type="number" id="rendimentoValor" placeholder="Valor">
<button onclick="adicionarRendimento()">Adicionar</button>

<h2>Adicionar Despesa</h2>
<input type="number" id="despesaValor" placeholder="Valor">
<select id="categoria">
<option>Alimentação</option>
<option>Transporte</option>
<option>Moradia</option>
<option>Investimentos</option>
<option>Outros</option>
</select>
<button onclick="adicionarDespesa()">Adicionar</button>

<div class="resumo">
<p>Total Rendimentos: R$ <span id="totalRendimentos">0</span></p>
<p>Total Despesas: R$ <span id="totalDespesas">0</span></p>
<p>Saldo: R$ <span id="saldo">0</span></p>
<p>Porcentagem Gasta: <span id="porcentagem">0</span>%</p>
</div>

<canvas id="grafico"></canvas>

</div>

<script>
let totalRendimentos = 0;
let totalDespesas = 0;
let categorias = {
"Alimentação": 0,
"Transporte": 0,
"Moradia": 0,
"Investimentos": 0,
"Outros": 0
};

const ctx = document.getElementById('grafico');
const grafico = new Chart(ctx, {
type: 'pie',
data: {
labels: Object.keys(categorias),
datasets: [{
data: Object.values(categorias)
}]
}
});

function atualizarTela() {
document.getElementById("totalRendimentos").innerText = totalRendimentos.toFixed(2);
document.getElementById("totalDespesas").innerText = totalDespesas.toFixed(2);
document.getElementById("saldo").innerText = (totalRendimentos - totalDespesas).toFixed(2);

let porcentagem = totalRendimentos > 0 ?
(totalDespesas / totalRendimentos) * 100 : 0;

document.getElementById("porcentagem").innerText = porcentagem.toFixed(1);

grafico.data.datasets[0].data = Object.values(categorias);
grafico.update();
}

function adicionarRendimento() {
let valor = parseFloat(document.getElementById("rendimentoValor").value);
if (!isNaN(valor)) {
totalRendimentos += valor;
atualizarTela();
}
}

function adicionarDespesa() {
let valor = parseFloat(document.getElementById("despesaValor").value);
let categoria = document.getElementById("categoria").value;

if (!isNaN(valor)) {
totalDespesas += valor;
categorias[categoria] += valor;
atualizarTela();
}
}
</script>

</body>
</html>
